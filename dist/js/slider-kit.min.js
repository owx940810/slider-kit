"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var kit,wrapper,items,slider={state:{touch:!1,movement:!1},startX:0,startY:0,position:0,end:0,index:0,max:0,width:0,maxposition:0},Sliderkit=function(){function e(){_classCallCheck(this,e),this.getElements(),this.init()}return _createClass(e,[{key:"getElements",value:function(){(kit=window["slider-kit"])||new Error("slider-kit not found"),(wrapper=kit.querySelector(".slider-wrapper"))||new Error("slider-wrapper not found"),(items=wrapper.querySelectorAll(".slider-item")).length<0&&new Error("no slider-items found")}},{key:"init",value:function(){var t=this;slider.width=items[0].offsetWidth,slider.max=items.length-1;var e=window.getComputedStyle(items[0])["margin-left"];e&&(slider.width+=parseInt(e.substring(0,e.length-2)));var i=window.getComputedStyle(items[0])["margin-right"];i&&(slider.width+=parseInt(i.substring(0,i.length-2))),slider.max*slider.width>wrapper.offsetWidth&&(slider.maxposition=slider.max*slider.width-(wrapper.offsetWidth-slider.width)),0<=navigator.userAgent.toLocaleLowerCase().indexOf("mobile")?(kit.addEventListener("touchstart",function(e){return t.start(e)},{passive:!1}),window.addEventListener("touchmove",function(e){return t.move(e)},{passive:!1}),window.addEventListener("touchend",function(e){return t.end(e)},{passive:!1})):(kit.addEventListener("mousedown",function(e){return t.start(e)}),window.addEventListener("mousemove",function(e){return t.move(e)}),window.addEventListener("mouseup",function(e){return t.end(e)}))}},{key:"start",value:function(e){slider.state.touch=!0,wrapper.style.transition="",slider.state.movement=!1,slider.startX=e.clientX||e.touches[0].clientX,"touchstart"===e.type&&(slider.startY=e.touches[0].clientY)}},{key:"move",value:function(e){if(slider.state.touch){var t=e.clientX||e.touches[0].clientX;if(!slider.state.movement){var i=0;if("touchmove"===e.type&&(i=e.touches[0].clientY),i&&Math.abs(i-slider.startY)>Math.abs(t-slider.startX))return slider.state.movement=!1,void(slider.state.touch=!1)}e.preventDefault(),slider.state.movement=!0,slider.position=slider.end-slider.startX+t,wrapper.style.transform="translateX(".concat(slider.position,"px)")}}},{key:"end",value:function(){slider.state.touch&&(Math.floor(slider.position)!==Math.floor(slider.end)?(slider.state.touch=!1,this.bounce()):slider.state.touch=!1)}},{key:"bounce",value:function(e){slider.index=void 0===e?-Math.round(slider.position/slider.width):e,wrapper.style.transition="transform 250ms ease-in-out",slider.index<0&&(slider.index=0),slider.index>=slider.max&&(slider.index=slider.max);var t=-slider.index*slider.width;t<-slider.maxposition&&(t=-slider.maxposition),slider.end=slider.position=t,wrapper.dataset.sliderindex=slider.index,wrapper.style.transform="translateX(".concat(slider.position,"px)")}}]),e}();