"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var kit={sliders:[]},Sliderkit=function(){function t(){_classCallCheck(this,t),this.getElements(),this.init()}return _createClass(t,[{key:"getElements",value:function(){if(kit.sliders=_toConsumableArray(document.querySelectorAll(".slider-kit")).map(function(t,e){var n=t.querySelector(".slider-wrapper");if(!n)throw new Error("couldn't find slider-wrapper in slider-kit no.".concat(e));var r=n.querySelector(".slider-items");if(!r)throw new Error("couldn't find slider-items in slider-kit no.".concat(e));var i=n.querySelectorAll(".slider-item");if(i.length<0)throw new Error("couldn't find slider-item in slider-kit no.".concat(e));return{ele:t,wrapper:n,itemsWrapper:r,items:i,width:i[0].offsetWidth,max:i.length-1,position:0,end:0,index:0,maxposition:0,state:{touch:!1,movement:!1},startX:0,startY:0}}),kit.sliders.length<=0)throw new Error("no slider-kit found")}},{key:"init",value:function(){var r=this;kit.sliders.map(function(e){var t=window.getComputedStyle(e.items[0])["margin-left"];t&&(e.width+=parseInt(t.substring(0,t.length-2)));var n=window.getComputedStyle(e.items[0])["margin-right"];n&&(e.width+=parseInt(n.substring(0,n.length-2))),e.max*e.width>e.wrapper.offsetWidth&&(e.maxposition=e.max*e.width-(e.wrapper.offsetWidth-e.width)),0<=navigator.userAgent.toLocaleLowerCase().indexOf("mobile")?(e.ele.addEventListener("touchstart",function(t){return r.start(t,e)},{passive:!1}),window.addEventListener("touchmove",function(t){return r.move(t,e)},{passive:!1}),window.addEventListener("touchend",function(t){return r.end(e)},{passive:!1})):(e.ele.addEventListener("mousedown",function(t){return r.start(t,e)}),window.addEventListener("mousemove",function(t){return r.move(t,e)}),window.addEventListener("mouseup",function(t){return r.end(e)}))})}},{key:"start",value:function(t,e){e.state.touch=!0,e.itemsWrapper.style.transition="",e.state.movement=!1,e.startX=t.clientX||t.touches[0].clientX,"touchstart"===t.type&&(e.startY=t.touches[0].clientY)}},{key:"move",value:function(t,e){if(e.state.touch){var n=t.clientX||t.touches[0].clientX;if(!e.state.movement){var r=0;if("touchmove"===t.type&&(r=t.touches[0].clientY),r&&Math.abs(r-e.startY)>Math.abs(n-e.startX))return e.state.movement=!1,void(e.state.touch=!1)}t.preventDefault(),e.state.movement=!0,e.position=e.end-e.startX+n,e.itemsWrapper.style.transform="translateX(".concat(e.position,"px)")}}},{key:"end",value:function(t){t.state.touch&&(Math.floor(t.position)!==Math.floor(t.end)?(t.state.touch=!1,this.bounce(t)):t.state.touch=!1)}},{key:"bounce",value:function(t,e){t.index=void 0===e?-Math.round(t.position/t.width):e,t.itemsWrapper.style.transition="transform 250ms ease-in-out",t.index<0&&(t.index=0),t.index>=t.max&&(t.index=t.max);var n=-t.index*t.width;n<-t.maxposition&&(n=-t.maxposition),t.end=t.position=n,t.wrapper.dataset.sliderindex=t.index,t.itemsWrapper.style.transform="translateX(".concat(t.position,"px)")}}]),t}();